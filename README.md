# EZ EA WRC HUD by CaliFall

## 简介

这是一个基于PyQt5的Win10桌面应用，通过采集游戏的UDP遥测数据绘制UI。

程序中的UI可以显示以下信息:
 - 换挡提示灯
 - 档位
 - 手刹(档位为红时表示手刹拉起)
 - 计时器
 - 离合、刹车、油门输入值(经过游戏处理后的)
 - 转向输入值(经过游戏处理后的)
 - 四轮刹车盘温度和悬挂压缩情况
 - 车体速度、传动系统速度
 - 赛道总长度、当前行驶的长度、完成百分比
 - 车体姿态 **(这个功能目前有很大问题，因为旋转矩阵在某些时候换算成欧拉角时会有精度上的问题，如果实际游玩时姿态表发生抽搐或者巨大偏移均为正常现象，目前我没有想到该如何解决这个问题)**
 - GPS信息(车体在世界坐标中的X,Y,Z值)

## 免责声明

由于这个程序是在平板上进行的测试，所以可能在16:9的屏幕上显示时会有比例上的不协调。

为了减少对资源的占用，程序目前的设置是1秒种刷新30次UI。

此外，请确保您用来显示该程序的屏幕分辨率至少有800x600，否则有可能会导致程序界面显示不全。

**最后，请确保您已仔细阅读如何为这个程序的运行做好准备工作，否则程序不会正常运行。**

## 准备工作

### 第一步 

下载Release中发布的压缩包，压缩包中应有以下几个文件:

1. EA WRC HUD.exe - 主程序
2. cali.json - 数据包格式配置文件
3. config.json - UDP配置文件
4. README.md - 本文件

### 第二步

打开文件夹 %USERPROFILE%\Documents\My Games\WRC\telemetry\udp

将 **cali.json** 复制到该目录下

### 第三步

打开文件夹 %USERPROFILE%\Documents\My Games\WRC\telemetry

如果您***不在***使用Simhub或其他同类软件，您可以备份该目录下的 **config.json** 然后将压缩包中给出的 **config.json** 复制到该文件夹中。

如果您***正在***使用Simhub或其他同类软件，请手动将压缩包中给出的 **config.json** 中追加的端口设置追加到您原本的 **config.json** 文件中，然后为了确保程序正常运行，请关闭其他占用20777/20778/20779端口的接口。为了安全起见，仍然建议您备份一个原先的 **config.json** 。

### 第四步

由于程序需要监听端口，请确保您已经给予程序对应的权限。

如果程序无法正常运行，则有可能是防火墙拦截了程序。

### 第五步

打开主程序进行使用。

### 额外步骤

如果您想要将该程序运行在移动设备上，经过测试，是可行的。

只要在电脑和移动设备上同时安装 SpaceDesk ，然后进行连接，即可正常使用。

## 联系方式

Bilibili: <https://space.bilibili.com/12921045>

E-mail: <califall@qq.com>
